{% extends "base.html" %}

{% block title %}Detalle de Cita{% endblock %}

{% block extra_head %}
<style>
    body { background-color: #EAF2F8; line-height: 1.55; }

    .module-card {
        background-color: #AED6F1;
        border-radius: 14px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.06);
        margin-bottom: 20px;
        overflow: hidden;
    }
    .module-card header {
        background: linear-gradient(180deg, rgba(46,134,193,0.95) 0%, rgba(46,134,193,1) 100%);
        color: #fff;
        padding: 12px 18px;
        font-weight: 600;
        font-size: 16px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .module-card .body {
        padding: 15px 18px;
        color: #1C1C1C;
    }

    /* Tabla para los datos */
    .info-table {
        width: 100%;
        border-collapse: collapse;
        background: #fff;
        border-radius: 8px;
        overflow: hidden;
    }
    .info-table th {
        background: #3498DB;
        color: white;
        padding: 10px;
        text-align: left;
    }
    .info-table td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
    }
    .info-table tr:hover {
        background: #f1f9ff;
    }

    /* Botones */
    .btn-custom {
        border-radius: 30px;
        padding: 8px 18px;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        transition: all 0.3s ease;
    }
    .btn-custom:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }
    .btn-primary-custom { background: #3498DB; color: white; }
</style>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- Encabezado -->
    <div class="card mb-4 shadow-sm">
        <div class="card-body d-flex align-items-center justify-content-between">
            <h2 class="card-title mb-0">Detalle de Cita</h2>
            <a href="{% url 'dashboard_doctor' %}" class="btn btn-primary-custom btn-custom">
                <i class="fas fa-arrow-left"></i> Regresar al inicio
            </a>
        </div>
    </div>

    <!-- Signos vitales -->
    <div class="module-card">
        <header><i class="fas fa-heartbeat"></i> Signos vitales</header>
        <div class="body">
            {% if signos %}
            <table class="info-table">
                <thead>
                    <tr>
                        <th>Presión</th>
                        <th>Pulso</th>
                        <th>Temperatura</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ signos.presion }}</td>
                        <td>{{ signos.pulso }}</td>
                        <td>{{ signos.temperatura }}</td>
                    </tr>
                </tbody>
            </table>
            {% else %}
            <p>No se han registrado signos vitales aún.</p>
            {% endif %}
        </div>
    </div>

    <!-- Diagnóstico -->
    <div class="module-card">
        <header><i class="fas fa-stethoscope"></i> Diagnóstico</header>
        <div class="body">
            {% if cita.diagnostico %}
                <div class="alert alert-info">
                    <i class="fas fa-notes-medical"></i> {{ cita.diagnostico }}
                </div>
            {% else %}
                <p>No hay diagnóstico registrado.</p>
            {% endif %}
        </div>
    </div>

    <!-- Acciones -->
    <div class="module-card">
        <header><i class="fas fa-tools"></i> Acciones</header>
        <div class="body d-flex flex-wrap gap-2">
            <a class="btn btn-primary-custom btn-custom" href="{% url 'realizar_diagnostico' cita.id %}">
                <i class="fas fa-file-medical"></i> Agregar/Editar Diagnóstico
            </a>
            <a class="btn btn-primary-custom btn-custom" href="{% url 'agregar_receta' cita.id %}">
                <i class="fas fa-prescription-bottle-alt"></i> Agregar/Editar Receta
            </a>
            <a class="btn btn-primary-custom btn-custom" href="{% url 'generar_receta_pdf' cita.id %}">
                <i class="fas fa-print"></i> Imprimir Receta
            </a>
        </div>
    </div>
</div>
{% endblock %}
